<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CMake Workflow :: C++ Actions</title>
    <link rel="canonical" href="https://alandefreitas.github.io/cpp-actions/cpp-actions/actions/cmake-workflow.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/tabs.css">
    <script>var uiRootPath = '../../_'</script>
<link rel="icon" href="../../_/img/favicon.svg" type="image/svg">
    <style>
      .algolia-autocomplete .ds-dropdown-menu:before {
          display: block;
          position: absolute;
          content: "";
          width: 14px;
          height: 14px;
          background: #fff;
          z-index: 2;
          top: 9px;
          left: -7px !important;
          border-top: 1px solid #d9d9d9;
          border-right: 1px solid #d9d9d9;
          -webkit-transform: rotate(-136deg);
          transform: rotate(-136deg);
          border-radius: 2px;
      }
      .search-result-dropdown-menu:before {
          display: block;
          position: absolute;
          content: "";
          width: 14px;
          height: 14px;
          background: #fff !important;
          z-index: 2;
          top: 9px;
          border-top: 1px solid #d9d9d9;
          border-right: 1px solid #d9d9d9;
          -webkit-transform: rotate(-136deg);
          transform: rotate(-136deg);
          border-radius: 2px;
          left: -7px;
      }
      .nav-container .search-result-dropdown-menu {
        position: fixed;
        top: 65px;
        left: 13.5rem;
        width: 50%;
        overflow: visible;
        max-height: calc(100vh - 5.25rem);
        line-height: 1.5;
        z-index: 9999;
      }
      .nav-container .button {
        padding: 0px 14px;
        background-color: #FF9F00;
        color: #fff;
      }
      .algolia-autocomplete.algolia-autocomplete-left .ds-dropdown-menu {
          position: fixed !important;
          top: 65px !important;
          left: 13.5rem !important;
          z-index: 99 !important;
      }
      .search-selector {
        margin-right: 133px;
        text-transform: none;
      }
      @media screen and (max-width: 1024px) {
        .nav-container .search-result-dropdown-menu {
          top: 103px;
          left: 14.5rem;
        }
      }
      @media screen and (max-width: 768px) {
        .search-result-dropdown-menu:before {
            top: -6px;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
            left: 35px;
        }
        .nav-container .search-result-dropdown-menu {
            top: 100%;
            left: 0;
            width: 90vw;
            position: absolute !important;
        }
        .algolia-autocomplete.algolia-autocomplete-left .ds-dropdown-menu {
          position: absolute !important;
          top: 100% !important;
          left: 0px !important;
          z-index: 99 !important;
        }
        .algolia-autocomplete .ds-dropdown-menu:before{
            top: -6px;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
            left: 35px !important;
        }
      }
    </style>
  </head>
  <body class="article">
    <script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://alandefreitas.github.io/cpp-actions/doc/cpp-actions/">
                <img src="../../_/img/banner.svg" alt="" width="130">
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>


        <div id="topbar-nav" class="navbar-menu">
                <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://alandefreitas.github.io/cpp-actions">C++ Actions
                            : CMake Workflow</a>
                </div>
                    <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://github.com/alandefreitas/cpp-actions" target="_blank">GitHub</a>
                    </div>
                    <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://github.com/alandefreitas/cpp-actions/releases" target="_blank">Releases</a>
                    </div>

            <div class="navbar-end">
                <div class="navbar-item">
                      <span class="control">
                        <a class="button is-primary" target="blank_"
                           href="https://github.com/alandefreitas/cpp-actions/issues/new/choose">Report an Issue</a>
                      </span>
                </div>
            </div>
        </div>
    </nav>
</header>
    <div class="body">
<div class="nav-container" data-component="cpp-actions" data-version="master">
  <aside class="nav">
    <div class="panels">
    <div class="nav-panel-menu is-active" data-panel="menu">
        <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field has-filter">
                <div style="display: flex; flex-direction: column;">
                    <div style="display: flex; margin-bottom: 10px; position: relative;">
                        <input id="search-input" type="text" placeholder="Search the docs" style="flex: 1; padding: 0 0.25em" onkeyup="onSearch()">
                    </div>
                </div>
            </div>
        </div>
        <nav class="nav-menu">
                <h3 class="title"><a href="../index.html">C++ Actions</a></h3>
            <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../design.html">Design Rationale</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cpp-matrix.html">C++ Matrix Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Compilers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup-cpp.html">Setup C++ Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup-gcc.html">Setup GCC Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup-clang.html">Setup Clang Action</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tools</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="package-install.html">Install Packages Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="boost-clone.html">Boost Clone Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup-cmake.html">Setup CMake Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup-program.html">Setup Program Action</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Workflows</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="cmake-workflow.html">CMake Workflow Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="b2-workflow.html">B2 Workflow Action</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reports</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="flamegraph.html">Create Flamegraph Action</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-changelog.html">Create Changelog Action</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../contribute.html">Contribute</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../license.html">License</a>
  </li>
</ul>
  </li>
</ul>
        </nav>
    </div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">C++ Actions</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">C++ Actions</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
        <li class="version">
          <a href="../develop/index.html">develop</a>
        </li>
        <li class="version">
          <a href="../v1.8.0/index.html">v1.8.0</a>
        </li>
        <li class="version">
          <a href="../v1.7.0/index.html">v1.7.0</a>
        </li>
        <li class="version">
          <a href="../v1.6.2/index.html">v1.6.2</a>
        </li>
        <li class="version">
          <a href="../v1.6.1/index.html">v1.6.1</a>
        </li>
        <li class="version">
          <a href="../v1.6.0/index.html">v1.6.0</a>
        </li>
        <li class="version">
          <a href="../v1.5.0/index.html">v1.5.0</a>
        </li>
        <li class="version">
          <a href="../v1.4.1/index.html">v1.4.1</a>
        </li>
        <li class="version">
          <a href="../v1.4.0/index.html">v1.4.0</a>
        </li>
        <li class="version">
          <a href="../v1.3.0/index.html">v1.3.0</a>
        </li>
        <li class="version">
          <a href="../v1.2.1/index.html">v1.2.1</a>
        </li>
        <li class="version">
          <a href="../v1.2.0/index.html">v1.2.0</a>
        </li>
        <li class="version">
          <a href="../v1.1.0/index.html">v1.1.0</a>
        </li>
        <li class="version">
          <a href="../v1.0.0/index.html">v1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
    <button class="nav-toggle"></button>
        <a href="../index.html" class="home-link"></a>
    <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">C++ Actions</a></li>
    <li>Workflows</li>
    <li><a href="cmake-workflow.html">CMake Workflow Action</a></li>
  </ul>
</nav>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="cmake-workflow.html">master</a>
    <a class="version" href="../develop/actions/cmake-workflow.html">develop</a>
    <a class="version" href="../v1.8.0/actions/cmake-workflow.html">v1.8.0</a>
    <a class="version" href="../v1.7.0/actions/cmake-workflow.html">v1.7.0</a>
    <a class="version" href="../v1.6.2/actions/cmake-workflow.html">v1.6.2</a>
    <a class="version" href="../v1.6.1/actions/cmake-workflow.html">v1.6.1</a>
    <a class="version" href="../v1.6.0/actions/cmake-workflow.html">v1.6.0</a>
    <a class="version" href="../v1.5.0/actions/cmake-workflow.html">v1.5.0</a>
    <a class="version" href="../v1.4.1/actions/cmake-workflow.html">v1.4.1</a>
    <a class="version" href="../v1.4.0/actions/cmake-workflow.html">v1.4.0</a>
    <a class="version" href="../v1.3.0/actions/cmake-workflow.html">v1.3.0</a>
    <a class="version" href="../v1.2.1/actions/cmake-workflow.html">v1.2.1</a>
    <a class="version" href="../v1.2.0/actions/cmake-workflow.html">v1.2.0</a>
    <a class="version" href="../v1.1.0/actions/cmake-workflow.html">v1.1.0</a>
    <a class="version" href="../v1.0.0/actions/cmake-workflow.html">v1.0.0</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">CMake Workflow</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This action runs a complete CMake workflow from source files.</p>
</div>
<div class="paragraph">
<p>This is usually the next step in your workflow after setting up a C++ compiler and fetching dependencies with
<a href="package-install.html" class="xref page">Install Packages</a>.</p>
</div>
<div class="paragraph">
<p>A workflow is composed of the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure</p>
</li>
<li>
<p>Build</p>
</li>
<li>
<p>Test</p>
</li>
<li>
<p>Install</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action also sets up the environment for the workflow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It validates the CMake version installed in the system,</p>
</li>
<li>
<p>Updates CMake if the library has a different minimum version,</p>
</li>
<li>
<p>Identifies what features the current CMake version supports, and</p>
</li>
<li>
<p>Runs a complete cmake workflow</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action will adjusts the parameters as needed according to the features that CMake version supports.
For instance,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the CMake version does not support the <code>-S &#8230;&#8203; -B &#8230;&#8203;</code> syntax, the action will create the build directory and
run the configuration step from there.</p>
</li>
<li>
<p>If the specified or default generator is multi-config, <code>CMAKE_CONFIGURATION_TYPES</code> will be used instead of
<code>CMAKE_BUILD_TYPE</code>, since the later is ignored by these generators.</p>
</li>
<li>
<p>If the CMake version does not support the <code>cmake --install</code> syntax, the <code>cmake --build --target install</code>
will be use instead.</p>
</li>
<li>
<p>If the CMake version does not support multiple targets in the <code>cmake --build</code> syntax, the action will run the build
step once for each target.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action also creates GitHub annotations when warnings or errors are emitted at any of these steps. This includes
annotations for CMake errors at the configure step and build errors emitted from the compiler at the build step.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After running the a complete CMake workflow for your project, the next step in your workflow should usually be
the generation of reports, with tools such as the <a href="flamegraph.html" class="xref page">Create Flamegraph</a> (when <code>matrix.time-trace</code>) and
<a href="create-changelog.html" class="xref page">Create Changelog</a> (usually in another workflow job). You can also include customs steps to
upload coverage reports (when <code>matrix.coverage</code>).</p>
</div>
<div class="paragraph">
<p>If your project provides CMake installation and configuration scripts, it is also usual to include multiple
CMake workflow steps as integration tests for CMake.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: CMake Workflow
  uses: alandefreitas/cpp-actions/cmake-workflow@master
  with:
    cmake-version: '&gt;=3.20'
    source-dir: tests
    generator: ${{ matrix.generator }}
    generator-toolset: ${{ matrix.generator-toolset }}
    toolchain: ${{ steps.package-install.outputs.vcpkg-toolchain }}
    build-type: ${{ matrix.build-type }}
    run-tests: true
    install-prefix: .local
    cxxstd: ${{ matrix.cxxstd }}
    cc: ${{ steps.setup-cpp.outputs.cc || matrix.cc }}
    ccflags: ${{ matrix.ccflags }}
    cxx: ${{ steps.setup-cpp.outputs.cxx || matrix.cxx }}
    cxxflags: ${{ matrix.cxxflags }}
    shared: ${{ matrix.shared }}
    extra-args: "${{ ( !matrix.no-deps &amp;&amp; format('-D BOOST_SRC_DIR=\"{0}\"', steps.boost-clone.outputs.boost-dir)\
      \ ) || '' }} \n${{ ( matrix.no-deps &amp;&amp; '-D CPP_ACTIONS_NO_DEPS=ON' ) || '' }}\n"
    export-compile-commands: ${{ matrix.time-trace }}
    package: true
    package-artifact: ${{ matrix.is-main }}
    ref-source-dir: .</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_input_parameters"><a class="anchor" href="#_input_parameters"></a>Input Parameters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake-path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cmake executable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A semver range string with the cmake versions supported by this workflow.</p>
<p class="tableblock">If the existing version in the environment does not satisfy this requirement, the action install
the min CMake version that satisfies it.</p>
<p class="tableblock">This should usually match the <code>cmake_minimum_required</code> defined in your CMakeLists.txt file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for the source files.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for the binaries relative to the source directory.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to C compiler.</p>
<p class="tableblock">If the input is not specified, the action will use the compiler defined by the environment variable <code>CC</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default compiler as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ccflags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flags to be used with the C compiler.</p>
<p class="tableblock">If the input is not specified, the action will use the flags defined by the environment variable <code>CFLAGS</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default flags as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxx</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to C++ compiler.</p>
<p class="tableblock">If the input is not specified, the action will use the compiler defined by the environment variable <code>CXX</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default compiler as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxflags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flags to be used with the C++ compiler.
If the input is not specified, the action will use the flags defined by the environment variable <code>CXXFLAGS</code>.
If the environment variable is not specified, the action will use the default flags as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma-separated list of standards with which cmake will build and test the program.</p>
<p class="tableblock">If the input is not specified, the action will use the standards defined by the environment variable <code>CXXSTD</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default standards as identified by CMake.</p>
<p class="tableblock">Unlike CMake, which can only build with one standard at a time, this action will iteratively build and test
with multiple standards. When multiple standards are used, the build directory will be suffixed with the
standard number with the exception of the latest standard.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shared</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines if add_library should create shared libraries (<code>BUILD_SHARED_LIBS</code>).</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>BUILD_SHARED_LIBS</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default value as identified by CMake (OFF).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>toolchain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to toolchain.</p>
<p class="tableblock">If the input is not specified, the action will use the toolchain defined by the environment variable <code>CMAKE_TOOLCHAIN_FILE</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default toolchain as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generator name.</p>
<p class="tableblock">If not specified, the action will use the generator defined by the environment variable <code>CMAKE_GENERATOR</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will try to use the default generator for the platform.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generator-toolset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toolset specification for the generator, if supported.</p>
<p class="tableblock">If not specified, the action will use the toolset defined by the environment variable <code>CMAKE_GENERATOR_TOOLSET</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default toolset for the generator.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build type.</p>
<p class="tableblock">If not specified, the action will use the build type defined by the environment variable <code>CMAKE_BUILD_TYPE</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use <code>Release</code> as the build type.</p>
<p class="tableblock">If all values are empty, the action will try to use the default generator for the platform.</p>
<p class="tableblock">If the generator is multi-config, this values will be applies to the <code>CMAKE_CONFIGURATION_TYPES</code> CMake options
instead of <code>CMAKE_BUILD_TYPE</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-target</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Targets to build instead of the default target.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extra-args</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra arguments to cmake configure command.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>export-compile-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set CMAKE_EXPORT_COMPILE_COMMANDS=ON in the configure step.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_EXPORT_COMPILE_COMMANDS</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default value as identified by CMake (OFF).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install-prefix</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path where the library should be installed.</p>
<p class="tableblock">If the input is not specified, the action will use the path defined by the environment variable <code>CMAKE_INSTALL_PREFIX</code>.</p>
<p class="tableblock">If the environment variable is not specified, the action will use the default path as identified by CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of jobs to use in parallel builds.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_JOBS</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will use the number of processors available in the
system.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>run-tests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should run tests.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_RUN_TESTS</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will attempt to run tests but will not fail if
there are no tests.</p>
<p class="tableblock">When the value is <code>true</code> or <code>false</code>, the action will also set the <code>configure-tests-flag</code> to <code>ON</code> or <code>OFF</code>.
When the value is undefined, the <code>configure-tests-flag</code> is ignored.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>configure-tests-flag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the flag to be passed to cmake to enable/disable tests in the configuration step.</p>
<p class="tableblock">By default this is <code>BUILD_TESTING</code>, which is an option automatically created by the CTest module.</p>
<p class="tableblock">If the input contains a "=", the action will use the value as is.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BUILD_TESTING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test-all-cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should run tests for all C++ standards defined by <code>cxxstd</code>.</p>
<p class="tableblock">If the input is not specified, the action will only run the tests with the last value defined in <code>cxxstd</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should install the library. The library is only installed once in the <code>install-prefix</code> using
the latest standard in <code>cxxstd</code>.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_INSTALL</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will attempt to install the library but will not
fail if the library cannot installed.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install-all-cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should install the library for all C++ standards defined by <code>cxxstd</code>.</p>
<p class="tableblock">If the input is not specified, the action will only install the library with the last value defined in <code>cxxstd</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should run cpack with the specified <code>package-generators</code> after the install step.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_PACKAGE</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will attempt to run cpack but will not
fail if cpack cannot be run.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-all-cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should run <code>cpack</code> for all C++ standards defined by <code>cxxstd</code>.</p>
<p class="tableblock">If the input is not specified, the action will only run cpack with the last value defined in <code>cxxstd</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the package (or application). If not specified, CMake will default to the project name.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory in which the packages are generated by cpack.</p>
<p class="tableblock">If it is not set then this will default to the build dir determined by <code>CPACK_PACKAGE_DIRECTORY</code>,
which may be defined in CMakeLists.txt, a CPack config file or from the cpack command
line option <code>-B</code>. If <code>package-dir</code> is set, it overrides the value found in the config file.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-vendor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override or define CPACK_PACKAGE_VENDOR.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-generators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A semicolon-separated list of generator names used by cpack.</p>
<p class="tableblock">If not specified, the action will use the generators defined by the environment variable <code>CPACK_GENERATOR</code>.</p>
<p class="tableblock">If this variable is not set, the action will attempt to generate the package with all
CPack generators available to CMake.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-artifact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the packages generated with CPack should be stored as action artifacts.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_PACKAGE_ARTIFACT</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will store the packages as artifacts.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package-retention-days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of days to keep the packages generated with CPack as action artifacts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-annotations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create github annotations for errors and warnings at all steps.</p>
<p class="tableblock">If the input is not specified, the action will use the value defined by the environment variable <code>CMAKE_CREATE_ANNOTATIONS</code>.</p>
<p class="tableblock">If the environment variable is also not specified, the action will create annotations.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ref-source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference base directory for annotations.</p>
<p class="tableblock">For instance, if there is an error in the <code>/home/user/project/src/main.cpp</code> file, the action will create an
annotation referring to the repository path <code>src/main.cpp</code>.</p>
<p class="tableblock">If the reference source directory is /home/user/project/src, the action will create an annotation referring to
<code>main.cpp</code> instead because any annotation filename will be relative to this directory.</p>
<p class="tableblock">If no value is provided, the environment variable <code>GITHUB_WORKSPACE</code> will be used as the reference source
directory. This means all annotations will be relative to the repository root if <code>actions/checkout</code> has been
called without specifying a custom <code>path</code> option.</p>
<p class="tableblock">Changing this value is typically useful when the repository being tested is not the workspace directory, in
which we need to make annotations relative to some other directory.</p>
<p class="tableblock">In most cases, the default option should be enough.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace commands executed by the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
  </div>
</main>
</div>
    <footer class="footer">
  <p>This page was built using the Antora UI adapted by <a href="https://github.com/cppalliance/site-docs" target="_blank">cppalliance/site-docs</a>.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
  <p>
    <a href="https://github.com/alandefreitas/cpp-actions" target="_blank">alandefreitas/cpp-actions</a>
  </p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
<script async src="../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
    <script>
      var element = document.querySelector('.search-result-dropdown-menu');
      if (element) {
        // Apply styles and additional class to element
        element.style.display = 'none';
        var element = document.querySelector('.search-result-dropdown-menu');
        var arrow = document.createElement('div');
        arrow.classList.add('search-result-dropdown-menu');
        element.appendChild(arrow);
      }

      function onSearch() {
        var searchInput = document.getElementById('search-input');
        if (searchInput.value) {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }

      function onSearchChange(search_active) {
        var searchInputAlgolia = document.getElementById('search-input-algolia');
        var searchInput = document.getElementById('search-input');
        if (search_active === "algolia") {
          searchInputAlgolia.style.display = 'block';
          // searchInputAlgolia.style.lineHeight = '2.001';
          searchInput.style.display = 'none';
          setupAlgoliaDocsearch();
        } else {
          searchInputAlgolia.style.display = 'none';
          searchInput.style.display = 'block';
        }
      }

      // Add an event listener to the document
      document.addEventListener("click", function(event) {
        var searchInput = document.getElementById('search-input');
        // Check if the click was outside of the modal
        if (event.target !== element && event.target !== searchInput) {

          // Hide the modal
          searchInput.value = "";
          onSearch();
        }
      });
    </script>
  </body>
</html>
