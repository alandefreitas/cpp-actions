<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Actions :: C++ Actions</title>
    <link rel="canonical" href="https://alandefreitas.github.io/cpp-actions/cpp-actions/v1.1.0/actions/index.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
    <script>var uiRootPath = '../../../_'</script>
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg">
    <style>
      .algolia-autocomplete .ds-dropdown-menu:before {
          display: block;
          position: absolute;
          content: "";
          width: 14px;
          height: 14px;
          background: #fff;
          z-index: 2;
          top: 9px;
          left: -7px !important;
          border-top: 1px solid #d9d9d9;
          border-right: 1px solid #d9d9d9;
          -webkit-transform: rotate(-136deg);
          transform: rotate(-136deg);
          border-radius: 2px;
      }
      .search-result-dropdown-menu:before {
          display: block;
          position: absolute;
          content: "";
          width: 14px;
          height: 14px;
          background: #fff !important;
          z-index: 2;
          top: 9px;
          border-top: 1px solid #d9d9d9;
          border-right: 1px solid #d9d9d9;
          -webkit-transform: rotate(-136deg);
          transform: rotate(-136deg);
          border-radius: 2px;
          left: -7px;
      }
      .nav-container .search-result-dropdown-menu {
        position: fixed;
        top: 65px;
        left: 13.5rem;
        width: 50%;
        overflow: visible;
        max-height: calc(100vh - 5.25rem);
        line-height: 1.5;
        z-index: 9999;
      }
      .nav-container .button {
        padding: 0px 14px;
        background-color: #FF9F00;
        color: #fff;
      }
      .algolia-autocomplete.algolia-autocomplete-left .ds-dropdown-menu {
          position: fixed !important;
          top: 65px !important;
          left: 13.5rem !important;
          z-index: 99 !important;
      }
      .search-selector {
        margin-right: 133px;
        text-transform: none;
      }
      @media screen and (max-width: 1024px) {
        .nav-container .search-result-dropdown-menu {
          top: 103px;
          left: 14.5rem;
        }
      }
      @media screen and (max-width: 768px) {
        .search-result-dropdown-menu:before {
            top: -6px;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
            left: 35px;
        }
        .nav-container .search-result-dropdown-menu {
            top: 100%;
            left: 0;
            width: 90vw;
            position: absolute !important;
        }
        .algolia-autocomplete.algolia-autocomplete-left .ds-dropdown-menu {
          position: absolute !important;
          top: 100% !important;
          left: 0px !important;
          z-index: 99 !important;
        }
        .algolia-autocomplete .ds-dropdown-menu:before{
            top: -6px;
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
            left: 35px !important;
        }
      }
    </style>
  </head>
  <body class="article">
    <script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({"startOnLoad":true});</script><header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://alandefreitas.github.io/cpp-actions/doc/cpp-actions/">
                <img src="../../../_/img/banner.svg" alt="" width="130">
                    <div class="navbar-item-nonProduction">
                        <p>v1.0.0</p>
                    </div>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>


        <div id="topbar-nav" class="navbar-menu">
                <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://alandefreitas.github.io/cpp-actions">C++ Actions
                            : Actions</a>
                </div>
                    <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://github.com/alandefreitas/cpp-actions" target="_blank">GitHub</a>
                    </div>
                    <div class="navbar-item is-hoverable">
                        <a class="navbar-link" href="https://github.com/alandefreitas/cpp-actions/releases" target="_blank">Releases</a>
                    </div>

            <div class="navbar-end">
                <div class="navbar-item">
                      <span class="control">
                        <a class="button is-primary" target="blank_"
                           href="https://github.com/alandefreitas/cpp-actions/issues/new/choose">Report an Issue</a>
                      </span>
                </div>
            </div>
        </div>
    </nav>
</header>
    <div class="body">
<div class="nav-container" data-component="cpp-actions" data-version="v1.0.0">
  <aside class="nav">
    <div class="panels">
    <div class="nav-panel-menu is-active" data-panel="menu">
        <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field has-filter">
                <div style="display: flex; flex-direction: column;">
                    <div style="display: flex; margin-bottom: 10px; position: relative;">
                        <input id="search-input" type="text" placeholder="Search the docs" style="flex: 1; padding: 0 0.25em" onkeyup="onSearch()">
                    </div>
                </div>
            </div>
        </div>
        <nav class="nav-menu">
                <h3 class="title"><a href="../index.html">C++ Actions</a></h3>
            <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="package-install.html">Install dependencies Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cmake-workflow.html">CMake Workflow Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="boost-clone.html">Boost Clone Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="b2-workflow.html">B2 Workflow Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="create-changelog.html">Create Changelog Action</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../contribute.html">Contribute</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../license.html">License</a>
  </li>
</ul>
  </li>
</ul>
        </nav>
    </div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">C++ Actions</span>
    <span class="version">v1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">C++ Actions</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">master</a>
        </li>
        <li class="version">
          <a href="../../develop/index.html">develop</a>
        </li>
        <li class="version">
          <a href="../../v1.8.0/index.html">v1.8.0</a>
        </li>
        <li class="version">
          <a href="../../v1.7.0/index.html">v1.7.0</a>
        </li>
        <li class="version">
          <a href="../../v1.6.2/index.html">v1.6.2</a>
        </li>
        <li class="version">
          <a href="../../v1.6.1/index.html">v1.6.1</a>
        </li>
        <li class="version">
          <a href="../../v1.6.0/index.html">v1.6.0</a>
        </li>
        <li class="version">
          <a href="../../v1.5.0/index.html">v1.5.0</a>
        </li>
        <li class="version">
          <a href="../../v1.4.1/index.html">v1.4.1</a>
        </li>
        <li class="version">
          <a href="../../v1.4.0/index.html">v1.4.0</a>
        </li>
        <li class="version">
          <a href="../../v1.3.0/index.html">v1.3.0</a>
        </li>
        <li class="version">
          <a href="../../v1.2.1/index.html">v1.2.1</a>
        </li>
        <li class="version">
          <a href="../../v1.2.0/index.html">v1.2.0</a>
        </li>
        <li class="version">
          <a href="../../v1.1.0/index.html">v1.1.0</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">v1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
    <button class="nav-toggle"></button>
        <a href="../../index.html" class="home-link"></a>
    <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">C++ Actions</a></li>
    <li><a href="index.html">Actions</a></li>
  </ul>
</nav>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">v1.0.0</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">master</a>
    <a class="version is-missing" href="../../develop/index.html">develop</a>
    <a class="version is-missing" href="../../v1.8.0/index.html">v1.8.0</a>
    <a class="version is-missing" href="../../v1.7.0/index.html">v1.7.0</a>
    <a class="version is-missing" href="../../v1.6.2/index.html">v1.6.2</a>
    <a class="version is-missing" href="../../v1.6.1/index.html">v1.6.1</a>
    <a class="version is-missing" href="../../v1.6.0/index.html">v1.6.0</a>
    <a class="version is-missing" href="../../v1.5.0/index.html">v1.5.0</a>
    <a class="version is-missing" href="../../v1.4.1/index.html">v1.4.1</a>
    <a class="version is-missing" href="../../v1.4.0/index.html">v1.4.0</a>
    <a class="version is-missing" href="../../v1.3.0/index.html">v1.3.0</a>
    <a class="version is-missing" href="../../v1.2.1/index.html">v1.2.1</a>
    <a class="version is-missing" href="../../v1.2.0/index.html">v1.2.0</a>
    <a class="version" href="../../v1.1.0/actions/index.html">v1.1.0</a>
    <a class="version is-current" href="index.html">v1.0.0</a>
  </div>
</div>
        <div class="edit-this-page"><a href="https://github.com/alandefreitas/cpp-actions/edit/v1.0.0/docs/modules/ROOT/pages/actions/index.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Actions</h1>
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#package-install">Install dependencies</a></p>
</li>
<li>
<p><a href="#cmake-workflow">CMake Workflow</a></p>
</li>
<li>
<p><a href="#boost-clone">Boost Clone</a></p>
</li>
<li>
<p><a href="#b2-workflow">B2 Workflow</a></p>
</li>
<li>
<p><a href="#create-changelog">Create Changelog</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="package-install"><a class="anchor" href="#package-install"></a>Install dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This action installs dependencies from multiple package managers for a workflow.</p>
</div>
<div class="paragraph">
<p>If vcpkg dependencies are required and vcpkg is not available, it will be installed.
Both vcpkg and its dependencies are cached.</p>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h3>
<div class="paragraph">
<p>Example 1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Install packages
  uses: alandefreitas/cpp-actions/package-install@master
  id: package-install
  with:
    vcpkg: fmt
    apt-get: g++-11
    cxx: g++-11
    cc: gcc-11</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 2 (<code>apt-get-ignore-missing</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Install packages
  uses: alandefreitas/cpp-actions/package-install@master
  id: package-install
  with:
    vcpkg: fmt
    apt-get: g++-4.8 sudo software-properties-common tzdata wget curl apt-transport-https
      make apt-file unzip libssl-dev build-essential autotools-dev autoconf automake
      g++ libc++-helpers python ruby cpio gcc-multilib g++-multilib pkgconf python3
      ccache libpython-dev python3-distutils python3-pip git cmake
    apt-get-ignore-missing: 'true'
    cxx: g++-4.8
    cc: gcc-4.8</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_parameters"><a class="anchor" href="#_input_parameters"></a>Input Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of packages we should install with vcpkg. (Whitespace-separated).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apt-get</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of packages we should install with apt-get. (Whitespace-separated).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxx</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C compiler used by vcpkg.</p>
<p class="tableblock">Setting the compiler is particularly important in Linux workflows that use `clang`, since `clang` might link
`libc` or <code>libstdc`, while the default compiler used by vcpkg will usually be GCC linking `libstdc</code>.</p>
<p class="tableblock">This would cause conflict in workflows that later attempt to use vcpkg dependencies.
.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C compiler used by vcpkg.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg-triplet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The triplet used by vcpkg to install packages.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory where vcpkg should be cloned and installed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg-branch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vcpkg branch we should use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apt-get-retries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of times we should retry when apt-get fails.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apt-get-sources</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of sources for apt-get.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apt-get-source-keys</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of source keys for apt-get.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apt-get-ignore-missing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether apt-get should ignore missing packages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_outputs"><a class="anchor" href="#_outputs"></a>Outputs</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg-toolchain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vcpkg toolchain file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vcpkg-executable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vcpkg toolchain file</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cmake-workflow"><a class="anchor" href="#cmake-workflow"></a>CMake Workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This action runs a complete CMake workflow from source files. A workflow is composed of the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure</p>
</li>
<li>
<p>Build</p>
</li>
<li>
<p>Test</p>
</li>
<li>
<p>Install</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action also sets up the environment for the workflow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It validates the CMake version installed in the system,</p>
</li>
<li>
<p>Updates CMake if the library has a different minimum version,</p>
</li>
<li>
<p>Identifies what features the current CMake version supports, and</p>
</li>
<li>
<p>Runs a complete cmake workflow</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action will adjusts the parameters as needed according to the features that CMake version supports.
For instance,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the CMake version does not support the <code>-S &#8230;&#8203; -B &#8230;&#8203;</code> syntax, the action will create the build directory and
run the configuration step from there.</p>
</li>
<li>
<p>If the specified or default generator is multi-config, <code>CMAKE_CONFIGURATION_TYPES</code> will be used instead of
<code>CMAKE_BUILD_TYPE</code>, since the later is ignored by these generators.</p>
</li>
<li>
<p>If the CMake version does not support the <code>cmake --install</code> syntax, the <code>cmake --build --target install</code>
will be use instead.</p>
</li>
<li>
<p>If the CMake version does not support multiple targets in the <code>cmake --build</code> syntax, the action will run the build
step once for each target.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The action also creates GitHub annotations when warnings or errors are emitted at any of these steps. This includes
annotations for CMake errors at the configure step and build errors emitted from the compiler at the build step.</p>
</div>
<div class="sect2">
<h3 id="_examples_2"><a class="anchor" href="#_examples_2"></a>Examples</h3>
<div class="paragraph">
<p>Example 1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: CMake Workflow
  uses: alandefreitas/cpp-actions/cmake-workflow@master
  with:
    cmake-version: '&gt;=3.8'
    source-dir: tests
    toolchain: ${{ steps.package-install.outputs.vcpkg-toolchain }}
    run-tests: 'true'
    install-prefix: $GITHUB_WORKSPACE/.local
    cxxstd: 17,20
    cxx: g++-11
    cc: gcc-11
    extra-args: -D BOOST_SRC_DIR=$GITHUB_WORKSPACE/boost-root
    ref-source-dir: .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 2 (<code>cmake-min-version</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: CMake Workflow
  uses: alandefreitas/cpp-actions/cmake-workflow@master
  with:
    cmake-version: '&gt;=3.8'
    cmake-min-version: '3.8'
    source-dir: tests
    toolchain: ${{ steps.package-install.outputs.vcpkg-toolchain }}
    run-tests: 'true'
    install-prefix: $GITHUB_WORKSPACE/.local
    cxxstd: '11'
    cxx: g++-4.8
    cc: gcc-4.8
    extra-args: -D BOOST_SRC_DIR=$GITHUB_WORKSPACE/boost-root
    ref-source-dir: .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 3 (<code>build-type</code>, <code>generator</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: CMake Workflow
  uses: alandefreitas/cpp-actions/cmake-workflow@master
  with:
    cmake-version: '&gt;=3.8'
    source-dir: tests
    generator: Unix Makefiles
    toolchain: ${{ steps.package-install.outputs.vcpkg-toolchain }}
    build-type: Debug
    run-tests: 'true'
    install-prefix: $GITHUB_WORKSPACE/.local
    extra-args: -D BOOST_SRC_DIR=$GITHUB_WORKSPACE/boost-root
    ref-source-dir: .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 4 (<code>cxxflags</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: CMake Workflow
  uses: alandefreitas/cpp-actions/cmake-workflow@master
  with:
    cmake-version: '&gt;=3.8'
    source-dir: tests
    toolchain: ${{ steps.package-install.outputs.vcpkg-toolchain }}
    run-tests: 'true'
    install-prefix: $GITHUB_WORKSPACE/.local
    cxxstd: 17,20
    cxx: clang++-12
    cxxflags: -stdlib=libc++
    cc: clang-12
    extra-args: -D BOOST_SRC_DIR=$GITHUB_WORKSPACE/boost-root
    ref-source-dir: .</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_parameters_2"><a class="anchor" href="#_input_parameters_2"></a>Input Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake-exec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cmake executable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A semver range string with the cmake versions supported by this workflow.</p>
<p class="tableblock"> If the existing version in the environment does not satisfy this requirement, the action attempts
to install or update CMake using cmake-min-version.</p>
<p class="tableblock">If this input is undefined, the version "&gt;= cmake-min-version" is considered.</p>
<p class="tableblock">This should usually match the <code>cmake_minimum_required</code> defined in your CMakeLists.txt file.
.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmake-min-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the minimum cmake version for this workflow when the cmake-version requirement is not satisfied.</p>
<p class="tableblock">If the existing version in the environment does not satisfy this cmake-version requirement,
the action attempts to install or update CMake using this cmake-min-version.</p>
<p class="tableblock">If cmake-version is not set, this option overrides the <code>cmake-version</code> input as <code>&gt;= cmake-min-version</code>.</p>
<p class="tableblock">If cmake-min-version is not defined, the action attempts to extract the cmake-min-version
from CMakeLists.txt.</p>
<p class="tableblock">If a minimum version cannot be found in CMakeLists.txt, the lastest CMake version is considered
the minimum version.
.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for the source files.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for the binaries relative to the source directory.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to C compiler.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxx</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to C++ compiler.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of standards with which cmake will build and test the program.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxflags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Force flags to be used with the C++ compiler.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>toolchain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to toolchain.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generator name.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Build type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Release</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-target</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Targets to build instead of the default target.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install-prefix</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path where the library should be installed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.local/usr</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extra-args</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra arguments to cmake configure command.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>run-tests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should run tests.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether we should install the library.</p>
<p class="tableblock">The library is only installed once in the <code>install-prefix</code>.</p>
<p class="tableblock">The latest std version described in <code>cxxstd</code> is used for the installed version.
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-annotations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create github annotations on errors.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ref-source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference source directory for annotations. Any annotation filename will be relative to this directory.</p>
<p class="tableblock">This is typically useful when the repository being tested is not the current directory, in which
we need to make annotations relative to some other directory.</p>
<p class="tableblock">In most cases, the default option should be enough.
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace commands executed by the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="boost-clone"><a class="anchor" href="#boost-clone"></a>Boost Clone</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This action clones the Boost source directory, attempting to get it from the cache first. Only the specified
modules are cloned and cached.</p>
</div>
<div class="paragraph">
<p>Besides the explicitly specified list of modules, the action can also scan directories for boost dependencies
to implicitly determine what modules should be cloned.</p>
</div>
<div class="paragraph">
<p>The union of the implicitly and explicitly specified modules is cloned. Caching is based only on these dependencies.</p>
</div>
<div class="paragraph">
<p>For a project with about 5 boost dependencies, caching saves about 4 minutes in the workflow. When there&#8217;s no
cache, the scanning scripting saves us about 3 minutes.</p>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a>Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Clone Boost.Variant2
  uses: alandefreitas/cpp-actions/boost-clone@master
  with:
    boost-dir: boost-root
    branch: master
    modules: variant2</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_parameters_3"><a class="anchor" href="#_input_parameters_3"></a>Input Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boost-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The boost directory. The default value assumes boost is in-source.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>branch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch of the super-project.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>patches</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Libraries used to patch the boost installation.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>modules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The boost submodules we need to clone.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scan-modules-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An independent directory we should scan for boost dependencies to clone.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scan-modules-ignore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of modules that should be ignored in scan-modules.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace commands executed by the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="b2-workflow"><a class="anchor" href="#b2-workflow"></a>B2 Workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This action runs a complete B2 workflow from Boost source files.</p>
</div>
<div class="paragraph">
<p>It takes the Boost source directory and does whatever it needs to test the specified modules. This includes
compiling <code>b2</code> if needed and generating a proper <code>user-config.jam</code> file.</p>
</div>
<div class="paragraph">
<p>This action is particularly useful for Boost library proposals.</p>
</div>
<div class="sect2">
<h3 id="_examples_3"><a class="anchor" href="#_examples_3"></a>Examples</h3>
<div class="paragraph">
<p>Example 1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: gcc-11
    cxxstd: 17,20</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 2 (<code>cxx</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: clang
    cxx: clang++-12
    cxxstd: 17,20</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 3 (<code>address-model</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: msvc-14.3
    cxxstd: 17,20
    address-model: 32,64</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 4 (<code>ubsan</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: gcc-11
    cxxstd: 17,20
    ubsan: 'true'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 5 (<code>cxxflags</code>, <code>linkflags</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: clang
    cxx: clang++-12
    cxxstd: 17,20
    cxxflags: -stdlib=libc++
    linkflags: -stdlib=libc++</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example 6 (<code>gcc-toolchain</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Test Boost.Variant2
  uses: alandefreitas/cpp-actions/b2-workflow@master
  with:
    source-dir: boost-root
    modules: variant2
    toolset: clang
    cxx: clang++-8
    cxxstd: '17'
    gcc-toolchain: '7'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_parameters_4"><a class="anchor" href="#_input_parameters_4"></a>Input Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The boost source directory.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build-variant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom build variants.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>modules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of modules we should test.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gcc-toolchain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a special GCC toolchain for this version of GCC and update user-config.jam.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>toolset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toolset name.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>address-model</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid b2 list of address models.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxx</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to C++ compiler.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxflags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra compiler flags.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>linkflags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra linker flags.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cxxstd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of standards with which cmake will build and test the program.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ubsan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of standards with which cmake will build and test the program.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threading</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">b2 threading option.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace commands executed by the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-changelog"><a class="anchor" href="#create-changelog"></a>Create Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This action creates an initial Changelog from the commit history.</p>
</div>
<div class="paragraph">
<p>The commits considered go from the latest commit up to a commit containing a version
commit pattern specified by version-pattern.</p>
</div>
<div class="paragraph">
<p>The result can be used as the initial body for an automated release, a CHANGELOG.md file, or a job summary.</p>
</div>
<div class="paragraph">
<p>Each commit is parsed as a loose variant of a <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commit</a>
in the following format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">&lt;type&gt;[optional scope]: &lt;description&gt;

[optional body]

[optional footer(s)]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The body and footer are always ignored.</p>
</li>
<li>
<p>If no type is indicated, the description goes to an initial "other" category in the message.</p>
</li>
<li>
<p>If no scope is indicated, the description goes to an initial "general" scope in the type messages.</p>
</li>
<li>
<p>Breaking changes are indicated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This action uses the local commit history to generate the notes. Ensure the <code>fetch-depth</code> option
is set when cloning your repository in CI. If this option is unset, the checkout action will
perform a shallow clone and the Changelog will only include the latest commit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">- uses: actions/checkout@v3
  with:
    fetch-depth: 100</code></pre>
</div>
</div>
<div class="paragraph">
<p>This parameter can also be used as a limit on the number of commits the action should consider.</p>
</div>
<div class="sect2">
<h3 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">steps:
- name: Create release notes
  uses: alandefreitas/cpp-actions/create-changelog@master
  with:
    output-path: CHANGELOG.md
    trace-commands: 'true'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_input_parameters_5"><a class="anchor" href="#_input_parameters_5"></a>Input Parameters</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source-dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source directory from whose commits will be analyzed
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version-pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A regex pattern used to identify if a commit is a version delimiter
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(Bump|Set)\s+version</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>output-path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path where the changelog will be stored
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CHANGELOG.md</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>limit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The limit on the number of commits considered in the Changelog
.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-commands</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace commands executed by the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
    <footer class="footer">
  <p>This page was built using the Antora UI adapted by <a href="https://github.com/cppalliance/site-docs" target="_blank">cppalliance/site-docs</a>.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
  <p>
    <a href="https://github.com/alandefreitas/cpp-actions" target="_blank">alandefreitas/cpp-actions</a>
  </p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
    <script>
      var element = document.querySelector('.search-result-dropdown-menu');
      if (element) {
        // Apply styles and additional class to element
        element.style.display = 'none';
        var element = document.querySelector('.search-result-dropdown-menu');
        var arrow = document.createElement('div');
        arrow.classList.add('search-result-dropdown-menu');
        element.appendChild(arrow);
      }

      function onSearch() {
        var searchInput = document.getElementById('search-input');
        if (searchInput.value) {
          element.style.display = 'block';
        } else {
          element.style.display = 'none';
        }
      }

      function onSearchChange(search_active) {
        var searchInputAlgolia = document.getElementById('search-input-algolia');
        var searchInput = document.getElementById('search-input');
        if (search_active === "algolia") {
          searchInputAlgolia.style.display = 'block';
          // searchInputAlgolia.style.lineHeight = '2.001';
          searchInput.style.display = 'none';
          setupAlgoliaDocsearch();
        } else {
          searchInputAlgolia.style.display = 'none';
          searchInput.style.display = 'block';
        }
      }

      // Add an event listener to the document
      document.addEventListener("click", function(event) {
        var searchInput = document.getElementById('search-input');
        // Check if the click was outside of the modal
        if (event.target !== element && event.target !== searchInput) {

          // Hide the modal
          searchInput.value = "";
          onSearch();
        }
      });
    </script>
  </body>
</html>
